<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Smart Campus - Frontend</title>
<style>
:root{
--bg:#0b1220;--card:#0f1b33;--txt:#e7eefc;--muted:#a9b7d6;--line:#1e2b4e;
--accent:#7aa7ff;--ok:#4ade80;--warn:#ffd166;--danger:#ff6b6b;
--radius:16px;--shadow:0 18px 50px rgba(0,0,0,.35);
--font:system-ui,-apple-system,Segoe UI,Roboto,Arial
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--txt);font-family:var(--font)}
.wrap{max-width:1100px;margin:auto;padding:20px}
.card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);margin-bottom:16px}
.hd{padding:14px;border-bottom:1px solid var(--line);font-weight:800}
.bd{padding:14px}
.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
label{font-size:12px;color:var(--muted)}
input,select{width:100%;padding:10px;border-radius:10px;border:1px solid var(--line);background:#0b1220;color:var(--txt)}
.btn{padding:10px 14px;border-radius:10px;border:1px solid var(--line);background:rgba(122,167,255,.2);color:#fff;font-weight:700;cursor:pointer}
.btn:disabled{opacity:.5}
.badge{padding:4px 8px;border-radius:999px;font-size:11px}
.ok{background:rgba(74,222,128,.2)}
.warn{background:rgba(255,209,102,.2)}
.danger{background:rgba(255,107,107,.2)}
</style>
</head>

<body>
<div class="wrap">

<div class="card">
<div class="hd">Login</div>
<div class="bd">
<div class="row">
<div>
<label>Email</label>
<input id="loginEmail"/>
</div>
<div>
<label>Password</label>
<input id="loginPass" type="password"/>
</div>
</div>
<br>
<button class="btn" onclick="login()">Login</button>
</div>
</div>

<div class="card">
<div class="hd">Add Student (ADMIN)</div>
<div class="bd">
<div class="row">
<div><label>First Name</label><input id="sFirst"/></div>
<div><label>Last Name</label><input id="sLast"/></div>
</div>
<div class="row">
<div><label>Department</label><input id="sDept"/></div>
<div><label>Batch</label><input id="sBatch"/></div>
</div>
<div class="row">
<div><label>Roll No</label><input id="sRoll" placeholder="SE-009"/></div>
<div><label>User ID</label><input id="sUserId" type="number"/></div>
</div>
<br>
<button class="btn" onclick="addStudent()">Add Student</button>
</div>
</div>

<div class="card">
<div class="hd">Add Teacher (ADMIN)</div>
<div class="bd">
<div class="row">
<div><label>First Name</label><input id="tFirst"/></div>
<div><label>Last Name</label><input id="tLast"/></div>
</div>
<div class="row">
<div><label>Department</label><input id="tDept"/></div>
<div><label>Qualification</label><input id="tQual" placeholder="PH"/></div>
</div>
<div class="row">
<div><label>Phone</label><input id="tPhone"/></div>
<div><label>User ID</label><input id="tUserId" type="number"/></div>
</div>
<br>
<button class="btn" onclick="addTeacher()">Add Teacher</button>
</div>
</div>

</div>

<script>
const API_BASE="https://just-presence-production-79e0.up.railway.app";
let TOKEN="";

async function api(path,method,body){
const res=await fetch(API_BASE+path,{
method,
headers:{
"Content-Type":"application/json",
...(TOKEN?{"Authorization":"Bearer "+TOKEN}:{})
},
body:body?JSON.stringify(body):undefined
});
if(!res.ok) throw await res.text();
return res.json();
}

async function login(){
const email=loginEmail.value.trim();
const password=loginPass.value;
const data=await api("/api/auth/login","POST",{email,password});
TOKEN=data.token;
alert("LOGIN OK");
}

async function addStudent(){
const payload={
studentId:0,
firstName:sFirst.value.trim(),
lastName:sLast.value.trim(),
department:sDept.value.trim(),
batch:sBatch.value.trim(),
rollNo:sRoll.value.trim(),
userId:Number(sUserId.value)
};
await api("/api/students","POST",payload);
alert("STUDENT ADDED");
}

async function addTeacher(){
const payload={
teacherId:0,
userId:Number(tUserId.value),
firstName:tFirst.value.trim(),
lastName:tLast.value.trim(),
department:tDept.value.trim(),
qualification:tQual.value.trim(),
phone:tPhone.value.trim()
};
await api("/api/teachers","POST",payload);
alert("TEACHER ADDED");
}
</script>
</body>
</html>







